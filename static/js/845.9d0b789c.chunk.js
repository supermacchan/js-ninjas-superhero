"use strict";(self.webpackChunkjs_ninjas_superhero=self.webpackChunkjs_ninjas_superhero||[]).push([[845],{6148:function(n,e,r){r.d(e,{P:function(){return V}});var a,t,i,o,s,c,l,p,d,u,x,h,g,m,b,f=r(9439),v=r(2791),j=r(7689),Z=r(9434),k=r(4873),w=r(8820),y=r(5984),_=r(8174),P=r(168),z=r(6444),S=z.ZP.form(a||(a=(0,P.Z)(["\n    max-width: 320px;\n\n    margin: 0 auto;\n\n    text-align: left;\n    color: var(--main-text-color);\n\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n\n    @media screen and (min-width: 768px) {\n        max-width: 800px;\n    }\n"]))),C=z.ZP.label(t||(t=(0,P.Z)(["\n    display: block;\n    margin-bottom: 10px;\n    padding-top: 10px;\n\n    font-weight: 500;\n"]))),F=z.ZP.p(i||(i=(0,P.Z)(["\n    padding-top: 10px;\n    font-weight: 500;\n"]))),D=z.ZP.input(o||(o=(0,P.Z)(["\n    display: block;\n    box-sizing: border-box;\n    width: 100%;\n\n    padding: 12px 20px;\n\n    border: 2px solid #ccc;\n    border-radius: 4px;\n    background-color: var(--main-bg-color);\n    color: var(--secondary-text-color);\n\n    font-family: inherit;\n    font-size: 13px;\n"]))),H=z.ZP.input(s||(s=(0,P.Z)(["\n    display: block;\n    box-sizing: border-box;\n    width: 100%;\n\n    padding: 12px 20px;\n\n    border: 2px solid #ccc;\n    border-radius: 4px;\n    background-color: var(--secondary-bg-color);\n    color: var(--secondary-text-color);\n\n    font-family: inherit;\n    font-size: 13px;\n"]))),J=z.ZP.textarea(c||(c=(0,P.Z)(["\n    display: block;\n    resize: none;\n    box-sizing: border-box;\n    width: 100%;\n    height: 120px;\n\n    padding: 12px 20px;\n    \n    border: 2px solid #ccc;\n    border-radius: 4px;\n    background-color: var(--secondary-bg-color);\n    color: var(--secondary-text-color);\n\n    font-family: inherit;\n    font-size: 13px;\n"]))),T=z.ZP.button(l||(l=(0,P.Z)(["\n    cursor: pointer;\n\n    box-sizing: border-box;\n    margin-top: 25px;\n    padding: 12px 20px;\n    width: 200px;\n    border: none;\n    border-radius: 5px;\n\n    background-color: var(--accent-bg-color);\n    color: var(--light-text-color);\n\n    text-transform: uppercase;\n    font-weight: 500;\n    font-size: 16px;\n\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover,\n    &:focus {\n        background-color: var(--hover-bg-color);\n    }\n"]))),E=z.ZP.button(p||(p=(0,P.Z)(["\n    cursor: pointer;\n\n    box-sizing: border-box;\n    margin-bottom: 15px;\n    padding: 12px 15px;\n    border: none;\n    border-radius: 5px;\n\n    background-color: var(--accent-text-color);\n    color: var(--light-text-color);\n\n    text-transform: uppercase;\n    font-weight: 500;\n    font-size: 13px;\n\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover,\n    &:focus {\n        background-color: var(--hover-bg-color);\n    }\n"]))),I=z.ZP.div(d||(d=(0,P.Z)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    gap: 20px;\n\n    @media screen and (min-width: 768px) {\n        flex-direction: row;\n        gap: 50px;\n    }\n"]))),N=z.ZP.div(u||(u=(0,P.Z)(["\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    gap: 20px;\n\n    margin-top: 20px;\n\n    @media screen and (min-width: 768px) {\n        flex-direction: row;\n        gap: 50px;\n    }\n"]))),O=z.ZP.div(x||(x=(0,P.Z)(["\n    width: 350px;\n"]))),A=z.ZP.div(h||(h=(0,P.Z)(["\n    display: flex;\n    justify-content: center;\n    gap: 10px;\n\n    margin-bottom: 20px;\n"]))),L=z.ZP.div(g||(g=(0,P.Z)(["\n    cursor: pointer;\n\n    position: relative;\n\n    box-sizing: border-box;\n    border-radius: 10px;\n\n    overflow: hidden;\n\n    box-shadow: -2.5777px 6.87386px 20.6216px rgba(0, 0, 0, 0.13);\n\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n    &:hover {\n        &::after {\n            content: '';\n\n            position: absolute;\n            top: 0;\n            left: 0;\n\n            width: 100%;\n            height: 100%;\n            background-color: rgba(0, 0, 0, 0.63);\n        }\n    }\n"]))),R=z.ZP.button(m||(m=(0,P.Z)(["\n    cursor: pointer;\n\n    position: absolute;\n    bottom: 5px;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 10;\n\n    width: 50px;\n    height: 50px;\n    border: none;\n    border-radius: 50%;\n\n    background-color: transparent;\n    color: var(--light-text-color);\n"]))),q=z.ZP.img(b||(b=(0,P.Z)(["\n    width: 150px;\n    height: 200px;\n    object-fit: cover;\n"]))),U=r(184),V=function(n){var e=n.info,r=(0,v.useState)(""),a=(0,f.Z)(r,2),t=a[0],i=a[1],o=(0,v.useState)(""),s=(0,f.Z)(o,2),c=s[0],l=s[1],p=(0,v.useState)(""),d=(0,f.Z)(p,2),u=d[0],x=d[1],h=(0,v.useState)(""),g=(0,f.Z)(h,2),m=g[0],b=g[1],P=(0,v.useState)(""),z=(0,f.Z)(P,2),V=z[0],X=z[1],B=(0,v.useState)(null),G=(0,f.Z)(B,2),K=G[0],M=G[1],Q=(0,v.useState)(null),W=(0,f.Z)(Q,2),Y=W[0],$=W[1],nn=(0,v.useState)(null),en=(0,f.Z)(nn,2),rn=en[0],an=en[1],tn=(0,v.useState)([]),on=(0,f.Z)(tn,2),sn=on[0],cn=on[1],ln=(0,j.TH)(),pn=(0,j.s0)(),dn=(0,Z.I0)(),un=function(n){switch(n.target.name){case"nickname":i(n.target.value);break;case"real_name":l(n.target.value);break;case"origin":x(n.target.value);break;case"superpowers":b(n.target.value);break;case"catchphrase":X(n.target.value);break;default:return}};(0,v.useEffect)((function(){if(e){var n=e.nickname,r=e.real_name,a=e.origin_description,t=e.superpowers,o=e.catch_phrase,s=e.images;i(n),l(r),x(a),b(t),X(o),M(s[0]),$(s[1]),an(s[2]),cn(s),sessionStorage.setItem("hero",JSON.stringify(e))}}),[e]),(0,v.useEffect)((function(){if("/edit"===ln.pathname){var n=sessionStorage.getItem("hero"),e=JSON.parse(n);i(e.nickname),l(e.real_name),x(e.origin_description),b(e.superpowers),X(e.catch_phrase),cn(e.images)}}),[ln.pathname]);var xn=function(n){var e=n.currentTarget.children[0].src;switch(cn((function(n){return n.filter((function(n){return n!==e}))})),sn.indexOf(e)){case 0:M(null);break;case 1:$(null);break;case 2:an(null);break;default:return}},hn=function(n){var e=n.target.files[0],r=new FileReader;if(e){r.readAsDataURL(e);var a=sn;switch(n.target.name){case"main_image":r.onloadend=function(){gn(r.result)||(a.splice(0,1,r.result),cn(a),M(e)),n.target.value=null};break;case"image1":r.onloadend=function(){gn(r.result)||(a.splice(1,1,r.result),cn(a),$(e)),n.target.value=null};break;case"image2":r.onloadend=function(){gn(r.result)||(a.splice(2,1,r.result),cn(a),an(e)),n.target.value=null};break;default:return}}},gn=function(n){return!!sn.includes(n)&&(_.Am.error("This image is already uploaded, please select another one!"),!0)},mn=function(){var n=new FormData;return K&&n.append("img",K),Y&&n.append("img",Y),rn&&n.append("img",rn),""!==t&&n.append("nickname",t),""!==c&&n.append("real_name",c),""!==u&&n.append("origin_description",u),""!==m&&n.append("superpowers",m),""!==V&&n.append("catch_phrase",V),n},bn=function(){i(""),l(""),x(""),b(""),X("")};return(0,U.jsxs)(U.Fragment,{children:["/edit"===ln.pathname&&(0,U.jsx)(E,{type:"button",onClick:function(){if("/edit"===ln.pathname){var n=e._id;dn(k.J.deleteHero(n)),pn("/"),bn()}},children:"Delete Hero"}),(0,U.jsx)(A,{children:sn.map((function(n){return(0,U.jsxs)(L,{onClick:xn,children:[(0,U.jsx)(q,{src:n,alt:t}),(0,U.jsx)(R,{type:"button",onClick:xn,children:(0,U.jsx)(w.SV5,{size:40})})]},(0,y.x0)())}))}),(0,U.jsxs)(S,{onSubmit:function(n){n.preventDefault();var r=mn();"/create"===ln.pathname&&(dn(k.J.createHero(r)),pn("/"),bn()),"/edit"===ln.pathname&&dn(k.J.updateHero({id:e._id,newInfo:r}))},children:[(0,U.jsxs)(I,{children:[(0,U.jsxs)(O,{children:[(0,U.jsx)(C,{htmlFor:"main_image",children:"Choose the main image"}),(0,U.jsx)(D,{type:"file",id:"main_image",name:"main_image",accept:"image/png, image/jpeg",onChange:hn})]}),(0,U.jsxs)(O,{children:[(0,U.jsx)(C,{htmlFor:"nickname",children:"Nickname"}),(0,U.jsx)(H,{type:"text",name:"nickname",id:"nickname",placeholder:"Enter name...",value:t,onChange:un,required:!0}),(0,U.jsx)(C,{htmlFor:"nickname",children:"Real Name"}),(0,U.jsx)(H,{type:"text",name:"real_name",id:"real_name",placeholder:"Enter name...",value:c,onChange:un,required:!0})]})]}),(0,U.jsxs)(N,{children:[(0,U.jsxs)(O,{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[(0,U.jsx)(F,{children:"Add more images"}),(0,U.jsx)(D,{type:"file",id:"image",name:"image1",accept:"image/png, image/jpeg",onChange:hn}),(0,U.jsx)(D,{type:"file",id:"image",name:"image2",accept:"image/png, image/jpeg",onChange:hn})]}),(0,U.jsxs)(O,{children:[(0,U.jsx)(C,{htmlFor:"origin",children:"Origin Description"}),(0,U.jsx)(J,{name:"origin",id:"origin",placeholder:"Tell the story...",value:u,onChange:un})]})]}),(0,U.jsxs)(N,{children:[(0,U.jsxs)(O,{children:[(0,U.jsx)(C,{htmlFor:"superpowers",children:"Superpowers"}),(0,U.jsx)(J,{name:"superpowers",id:"superpowers",placeholder:"List the powers...",value:m,onChange:un,style:{height:"90px"}})]}),(0,U.jsxs)(O,{children:[(0,U.jsx)(C,{htmlFor:"catchphrase",children:"Catchphrase"}),(0,U.jsx)(J,{name:"catchphrase",id:"catchphrase",placeholder:"The hero says...",value:V,onChange:un,style:{height:"90px"}})]})]}),(0,U.jsx)(T,{type:"submit",children:"Submit Changes"})]})]})}},2845:function(n,e,r){r.r(e),r.d(e,{default:function(){return x}});var a,t,i,o=r(6148),s=r(168),c=r(6444),l=c.ZP.main(a||(a=(0,s.Z)(["\n    text-align: center;\n"]))),p=c.ZP.h1(t||(t=(0,s.Z)(["\n    margin-top: 30px;\n    color: var(--main-text-color);\n    font-size: 20px;\n\n    @media screen and (min-width: 768px) {\n        font-size: 30px;\n    }\n"]))),d=c.ZP.section(i||(i=(0,s.Z)(["\n    padding: 20px 0 30px 0;\n"]))),u=r(184),x=function(){return(0,u.jsxs)(l,{children:[(0,u.jsx)(p,{children:"Let's meet our Hero!"}),(0,u.jsx)(d,{children:(0,u.jsx)(o.P,{})})]})}}}]);
//# sourceMappingURL=845.9d0b789c.chunk.js.map